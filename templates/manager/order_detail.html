{% extends "base.html" %} {% block title %}Order #{{ order.id }} Details -
Manager Dashboard{% endblock %} {% block content %}
<div class="container">
  <div class="row justify-content-center">
    <div class="col-lg-10">
      <!-- Header -->
      <div class="mb-4">
        <a href="/manager/orders" class="btn btn-outline-secondary mb-3">
          <i class="bi bi-arrow-left"></i> Back to All Orders
        </a>
        <h1 class="text-center"><i class="bi bi-receipt"></i> Order Details</h1>
        <p class="text-center text-muted">Order #{{ order.id }}</p>
      </div>

      <!-- Order Information Card -->
      <div class="card shadow-sm mb-4">
        <div class="card-header bg-danger text-white">
          <h5 class="mb-0">
            <i class="bi bi-info-circle"></i> Order Information
          </h5>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-6">
              <h6 class="text-muted">Order ID</h6>
              <p class="fs-5"><strong>#{{ order.id }}</strong></p>
            </div>
            <div class="col-md-6">
              <h6 class="text-muted">Order Date</h6>
              <p class="fs-5">{{ order.order_date }}</p>
            </div>
          </div>
          <hr />
          <div class="row">
            <div class="col-md-6">
              <h6 class="text-muted">Total Amount</h6>
              <p class="fs-4 text-danger">
                <strong>₹{{ "%.2f"|format(order.total_price) }}</strong>
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Customer Information Card -->
      <div class="card shadow-sm mb-4">
        <div class="card-header bg-danger text-white">
          <h5 class="mb-0">
            <i class="bi bi-person"></i> Customer Information
          </h5>
        </div>
        <div class="card-body">
          <div class="row mb-3">
            <div class="col-md-6">
              <h6 class="text-muted">
                <i class="bi bi-person-fill"></i> Customer Name
              </h6>
              <p class="fs-5">{{ order.customer_name }}</p>
            </div>
            <div class="col-md-6">
              <h6 class="text-muted">
                <i class="bi bi-telephone-fill"></i> Phone Number
              </h6>
              <p class="fs-5">
                <a href="tel:{{ order.phone }}" class="text-decoration-none">
                  {{ order.phone }}
                </a>
              </p>
            </div>
          </div>
          <div class="row">
            <div class="col-12">
              <h6 class="text-muted">
                <i class="bi bi-geo-alt-fill"></i> Delivery Address
              </h6>
              <p class="fs-5">{{ order.address }}</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Order Items Card -->
      <div class="card shadow-sm mb-4">
        <div class="card-header bg-danger text-white">
          <h5 class="mb-0"><i class="bi bi-cart"></i> Order Items</h5>
        </div>
        <div class="card-body p-0">
          <div class="table-responsive">
            <table class="table table-hover mb-0">
              <thead class="table-light">
                <tr>
                  <th scope="col">Pizza</th>
                  <th scope="col" class="text-center">Quantity</th>
                  <th scope="col" class="text-end">Unit Price</th>
                  <th scope="col" class="text-end">Subtotal</th>
                </tr>
              </thead>
              <tbody>
                {% for item in order['items'] %}
                <tr>
                  <td>
                    <strong>{{ item.pizza_name }}</strong>
                  </td>
                  <td class="text-center">
                    <span class="badge bg-danger">{{ item.quantity }}</span>
                  </td>
                  <td class="text-end">₹{{ "%.2f"|format(item.price) }}</td>
                  <td class="text-end">
                    <strong
                      >₹{{ "%.2f"|format(item.price * item.quantity) }}</strong
                    >
                  </td>
                </tr>
                {% endfor %}
              </tbody>
              <tfoot class="table-light">
                <tr>
                  <th colspan="3" class="text-end">Total:</th>
                  <th class="text-end text-danger fs-5">
                    ₹{{ "%.2f"|format(order.total_price) }}
                  </th>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="d-grid gap-2 d-md-flex justify-content-md-center mb-4">
        <a href="/manager/orders" class="btn btn-outline-secondary btn-lg">
          <i class="bi bi-arrow-left"></i> Back to All Orders
        </a>
        <button onclick="window.print()" class="btn btn-danger btn-lg">
          <i class="bi bi-printer"></i> Print Order
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Add Bootstrap Icons if not already included -->
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
/>

<!-- Print Styles -->
<style>
  @media print {
    .btn,
    nav,
    footer {
      display: none !important;
    }
    .card {
      border: 1px solid #dee2e6 !important;
      box-shadow: none !important;
    }
  }
</style>
{% endblock %}
